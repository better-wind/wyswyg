!function(a){function b(b,d,e){function f(){isfirst,isfirst=!1}function g(a){a.preventDefault(),mousedown=!0,f()}function h(a){a.preventDefault(),mousedown=!1}function i(b){if(b.preventDefault(),mousedown){b.changedTouches&&(b=b.changedTouches[b.changedTouches.length-1]);var c=(b.clientX+a(document).scrollLeft()||b.pageX)-canvasLeft-ggl_navLeft-ggl_navmarginLeft||0,d=(b.clientY+a(document).scrollTop()||b.pageY)-canvasTop-ggl_navTop-ggl_navmarginTop||0;m.beginPath(),m.arc(c,d,5,0,2*Math.PI),m.fill()}}var j,k=a(".ggl"),l=document.getElementById("myCanvas"),m=l.getContext("2d"),n=new Image;n.src="",l.width=d,l.height=e,m.fillStyle="gray",m.globalAlpha=1,m.fillRect(0,0,d,e),m.globalCompositeOperation="destination-out",canvasLeft=l.offsetLeft,canvasTop=l.offsetTop,mousedown=!1,isfirst=!0,ggl_navmarginLeft=parseInt(c(k.css("margin-left"))),ggl_navmarginTop=parseInt(c(k.css("margin-top"))),ggl_navLeft=k.position().left,ggl_navTop=k.position().top,l.addEventListener("touchstart",g),l.addEventListener("touchend",h),l.addEventListener("touchmove",i),this.finish=function(a){j=a},this.clear=function(){m.beginPath(),m.rect(0,0,d,e),m.fill(),l.removeEventListener("touchstart",g),l.removeEventListener("touchend",h),l.removeEventListener("touchmove",i)}}function c(a){if(!a)return!1;var b=a.split("px");return b[0]}var d={init:function(){var b=this;b.J_ggl=a(".ggl");setTimeout(function(){a(".J_wrap").css("height",a(window).width()/640*1512),b.eventing()},200)},eventing:function(){var a=this;a.ggl_init()},ggl_init:function(){var c=.828*a("body").width()*.828,d=.8*a(".ggl").height();a(".ggl canvas").css("height",d);var e=new b(.1,c,d);e.finish(function(){e.clear()})}};a(function(){d.init()})}(Zepto);