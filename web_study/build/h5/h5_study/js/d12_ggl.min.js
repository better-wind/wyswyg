!function(a){function b(b,d,e){function f(){isfirst,isfirst=!1}function g(a){a.preventDefault(),mousedown=!0,f()}function h(a){a.preventDefault(),mousedown=!1,i()}function i(){for(var a=0,c=n.getImageData(.1*d,.1*e,.8*d,.8*e),f=c.data.length,g=0;f>g;g++)0==c.data[g]&&a++;a>=f*b&&k&&k()}function j(b){if(b.preventDefault(),mousedown){b.changedTouches&&(b=b.changedTouches[b.changedTouches.length-1]);var c=(b.clientX+a(document).scrollLeft()||b.pageX)-canvasLeft-ggl_navLeft-ggl_navmarginLeft||0,d=(b.clientY+a(document).scrollTop()||b.pageY)-canvasTop-ggl_navTop-ggl_navmarginTop||0;n.beginPath(),n.arc(c,d,15,0,2*Math.PI),n.fill()}}var k,l=a(".ggl"),m=document.getElementById("myCanvas"),n=m.getContext("2d"),o=new Image;o.src="",o.onload=function(){m.width=d,m.height=e,n.drawImage(o,0,0,m.width,m.height),n.globalCompositeOperation="destination-out"},canvasLeft=m.offsetLeft,canvasTop=m.offsetTop,mousedown=!1,isfirst=!0,ggl_navmarginLeft=parseInt(c(l.css("margin-left"))),ggl_navmarginTop=parseInt(c(l.css("margin-top"))),ggl_navLeft=l.position().left,ggl_navTop=l.position().top,m.addEventListener("touchstart",g),m.addEventListener("touchend",h),m.addEventListener("touchmove",j),this.finish=function(a){k=a},this.clear=function(){n.beginPath(),n.rect(0,0,d,e),n.fill(),m.removeEventListener("touchstart",g),m.removeEventListener("touchend",h),m.removeEventListener("touchmove",j),a(".J_no").show()}}function c(a){if(!a)return!1;var b=a.split("px");return b[0]}var d={init:function(){var b=this;b.J_ggl=a(".ggl");setTimeout(function(){a(".J_wrap").css("height",a(window).width()/640*1512),b.eventing()},200)},eventing:function(){var a=this;a.ggl_init()},ggl_init:function(){var c=.828*a("body").width()*.828,d=.8*a(".ggl").height();a(".ggl canvas").css("height",d);var e=new b(.1,c,d);e.finish(function(){e.clear()})}};a(function(){d.init()})}(Zepto);